[gd_scene load_steps=17 format=3 uid="uid://das8ihaevwwm6"]

[ext_resource type="PackedScene" uid="uid://cast1lupeqmo" path="res://Scenes/tile_map.tscn" id="1_hgajm"]
[ext_resource type="PackedScene" uid="uid://d158e8mjutn7v" path="res://Scenes/port.tscn" id="2_grq21"]
[ext_resource type="PackedScene" uid="uid://btdesxnsuaggv" path="res://Scenes/player.tscn" id="3_2u5ik"]
[ext_resource type="PackedScene" uid="uid://xs0r1byb1prb" path="res://Scenes/ceiling_light.tscn" id="4_ftjt1"]
[ext_resource type="PackedScene" uid="uid://bnyhshq586owy" path="res://Scenes/battery.tscn" id="5_g76yd"]
[ext_resource type="PackedScene" path="res://Scenes/LevelExit.tscn" id="6_eic8u"]
[ext_resource type="PackedScene" uid="uid://fat1dmyvuygs" path="res://Scenes/power_gate.tscn" id="7_dvlgi"]
[ext_resource type="Script" path="res://Scripts/HidingText.gd" id="8_rs7lm"]
[ext_resource type="Texture2D" uid="uid://pjmvuxj7cjlu" path="res://Art/PlaceholderArt/GlowLight.png" id="9_jfuls"]
[ext_resource type="Script" path="res://Scripts/PowerTrigger.gd" id="10_bwju5"]
[ext_resource type="PackedScene" uid="uid://dudk7d7ss8mki" path="res://Scenes/Glass.tscn" id="11_egktx"]
[ext_resource type="PackedScene" uid="uid://ct4mbup2rhftj" path="res://Scenes/hive.tscn" id="12_nt2eq"]
[ext_resource type="PackedScene" uid="uid://bl06qjen3kmub" path="res://Scenes/inverted_power_gate.tscn" id="13_1tg8b"]
[ext_resource type="PackedScene" uid="uid://kgh665ni5kcx" path="res://Scenes/inverted_deco_light.tscn" id="15_3jseq"]
[ext_resource type="AudioStream" uid="uid://dj4u0wxevhw2r" path="res://audio/ambient.mp3" id="15_ew3hk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w4faw"]
size = Vector2(64, 5)

[node name="BatteryLevel" type="Node2D"]

[node name="TileMap" parent="." instance=ExtResource("1_hgajm")]
layer_0/tile_data = PackedInt32Array(-65538, 65540, 1, -65537, 65540, 1, -131072, 65540, 1, -131071, 65540, 1, -131070, 131076, 6, -65534, 131076, 6, 2, 131076, 6, 65538, 131076, 6, 65537, 65540, 1, 131073, 65540, 6, 131072, 65540, 6, 196607, 65540, 6, 131071, 65540, 1, 131070, 65540, 1, 65534, 65540, 1, -2, 65540, 1, -1, 65540, 1, 65535, 65540, 1, 196606, 65540, 6, 65536, 65540, 1, 0, 65540, 1, -65536, 65540, 1, -65535, 65540, 1, 1, 65540, 1, 131074, 196612, 6, -196606, 262148, 6, -196607, 393220, 6, -131074, 393220, 7, -131075, 262148, 7, -65539, 65540, 7, -3, 65540, 7, 65533, 65540, 7, 131069, 65540, 7, 196605, 196612, 7, -720898, 65540, 2, -655362, 65540, 2, -589826, 65540, 2, -524290, 65540, 2, -458754, 65540, 2, -393218, 65540, 2, -327682, 65540, 2, -720897, 65540, 2, -655361, 65540, 2, -589825, 65540, 2, -524289, 65540, 2, -458753, 65540, 2, -393217, 65540, 2, -327681, 65540, 2, -786432, 65540, 2, -720896, 65540, 2, -655360, 65540, 2, -589824, 65540, 2, -524288, 65540, 2, -458752, 65540, 2, -393216, 65540, 2, -786431, 65540, 2, -720895, 65540, 2, -655359, 65540, 2, -589823, 65540, 2, -524287, 65540, 2, -458751, 65540, 2, -393215, 65540, 2, -786430, 65540, 2, -720894, 65540, 2, -655358, 65540, 2, -589822, 65540, 2, -524286, 65540, 2, -458750, 65540, 2, -393214, 65540, 2, -786429, 65540, 2, -720893, 65540, 2, -655357, 65540, 2, -589821, 65540, 2, -524285, 65540, 2, -458749, 65540, 2, -393213, 65540, 2, -786428, 65540, 2, -720892, 65540, 2, -655356, 65540, 2, -589820, 65540, 2, -524284, 65540, 2, -458748, 65540, 2, -393212, 65540, 2, -786427, 65540, 2, -720891, 65540, 2, -655355, 65540, 2, -589819, 65540, 2, -524283, 65540, 2, -458747, 65540, 2, -393211, 65540, 2, -786426, 65540, 2, -720890, 65540, 2, -655354, 65540, 2, -589818, 65540, 2, -524282, 65540, 2, -458746, 65540, 2, -393210, 65540, 2, -786425, 65540, 2, -720889, 65540, 2, -655353, 65540, 2, -589817, 65540, 2, -524281, 65540, 2, -458745, 65540, 2, -393209, 65540, 2, -786424, 65540, 2, -720888, 65540, 2, -655352, 65540, 2, -589816, 65540, 2, -524280, 65540, 2, -458744, 65540, 2, -393208, 65540, 2, -262146, 327684, 9, -327679, 327684, 8, -327678, 65540, 8, -327677, 65540, 8, -327676, 65540, 8, -327675, 65540, 8, -327674, 65540, 8, -327673, 65540, 8, -327672, 65540, 8, -393207, 131076, 8, -458743, 131076, 8, -524279, 131076, 8, -589815, 131076, 8, -655351, 131076, 8, -720887, 131076, 8, -786423, 131076, 8, -327683, 65540, 9, -393219, 65540, 9, -458755, 65540, 9, -524291, 65540, 9, -589827, 65540, 9, -655363, 65540, 9, -720899, 65540, 9, -851960, 131076, 9, -851961, 131076, 9, -851962, 131076, 9, -851963, 131076, 9, -851964, 131076, 9, -851965, 131076, 9, -851966, 131076, 9, -786435, 262148, 9, -851959, 262148, 8, -327671, 196612, 8, -262147, 196612, 9, -851967, 393220, 8, -786434, 393220, 9, -851968, 65540, 2, -786433, 65540, 2, -851970, 65540, 9, -917503, 131076, 8, -917504, 65540, 2, -851969, 65540, 2, -917505, 65540, 2, -983040, 65540, 2, -983041, 65540, 2, -1048576, 65540, 2, -1048575, 131076, 8, -983039, 131076, 8, -983042, 65540, 9, -917506, 65540, 9, -1048578, 65540, 9, -1114114, 65540, 9, -1179650, 65540, 9, -1245186, 65540, 9, -1310722, 65540, 9, -1245175, 196612, 8, -1245183, 327684, 8, -1245182, 65540, 8, -1245181, 65540, 8, -1245180, 65540, 8, -1245179, 65540, 8, -1245178, 65540, 8, -1245177, 65540, 8, -1245176, 65540, 8, -1376255, 393220, 8, -1179647, 131076, 8, -1114111, 131076, 8, -1310711, 131076, 8, -1376247, 131076, 8, -1376250, 393220, 9, -1310713, 65540, 2, -1376249, 65540, 2, -1376248, 65540, 2, -1310712, 65540, 2, -1376256, 65540, 2, -1310720, 65540, 2, -1245184, 65540, 2, -1179648, 65540, 2, -1114112, 65540, 2, -1048577, 65540, 2, -1114113, 65540, 2, -1179649, 65540, 2, -1245185, 65540, 2, -1310721, 65540, 2, -1703938, 65540, 9, -1638402, 65540, 9, -1572866, 65540, 9, -1507330, 65540, 9, -1703937, 65540, 2, -1638401, 65540, 2, -1572865, 65540, 2, -1507329, 65540, 2, -1769472, 65540, 2, -1703936, 65540, 2, -1638400, 65540, 2, -1572864, 65540, 2, -1769471, 393220, 8, -1703935, 65540, 2, -1638399, 327684, 8, -1572863, 131076, 8, -1769470, 131076, 9, -1703934, 65540, 2, -1638398, 65540, 8, -1703933, 65540, 2, -1638397, 65540, 8, -1703932, 65540, 2, -1638396, 65540, 8, -1769467, 131076, 9, -1703931, 65540, 2, -1638395, 65540, 8, -1769466, 393220, 9, -1703930, 65540, 2, -1638394, 327684, 9, -1572858, 65540, 9, -1769465, 65540, 2, -1703929, 65540, 2, -1638393, 65540, 2, -1572857, 65540, 2, -1769464, 65540, 2, -1703928, 65540, 2, -1638392, 65540, 2, -1572856, 65540, 2, -1769463, 131076, 8, -1703927, 131076, 8, -1638391, 131076, 8, -1572855, 131076, 8, -1835010, 65540, 9, -1769474, 65540, 9, -1835009, 65540, 2, -1769473, 65540, 2, -1900544, 65540, 2, -1835008, 65540, 2, -1900543, 131076, 8, -1835007, 131076, 8, -1769469, 131076, 9, -1769468, 131076, 9, -1835002, 262148, 9, -1835001, 131076, 9, -1835000, 131076, 9, -1834999, 262148, 8, -1507319, 131076, 8, -1441783, 131076, 8, -1507327, 131076, 8, -1441791, 131076, 8, -1507322, 65540, 9, -1441786, 65540, 9, -1441794, 65540, 9, -1376258, 65540, 9, -1507321, 65540, 2, -1507320, 65540, 2, -1441784, 65540, 2, -1441785, 65540, 2, -1507328, 65540, 2, -1441793, 65540, 2, -1376257, 65540, 2, -1441792, 65540, 2, -3407885, 65540, 9, -2686975, 262148, 8, -3538959, 262148, 8, -3407880, 131076, 8, -2818050, 196612, 9, -3276806, 393220, 9, -3276813, 393220, 9, -2883595, 393220, 9, -2883594, 393220, 8, -2883599, 393220, 8, -3276815, 393220, 8, -3276808, 393220, 8, -3276802, 327684, 9, -2293762, 327684, 9, -3407881, 65540, 2, -3407882, 65540, 2, -3407883, 65540, 2, -3407884, 65540, 2, -2883591, 131076, 9, -2883592, 131076, 9, -2883593, 131076, 9, -2883596, 131076, 9, -2883597, 131076, 9, -2883598, 131076, 9, -2621443, 131076, 9, -2621444, 393220, 8, -2621442, 131076, 9, -2621441, 131076, 9, -2686976, 131076, 9, -3276803, 65540, 8, -3276804, 327684, 8, -3276807, 131076, 9, -3276814, 131076, 9, -2293765, 65540, 8, -2293764, 65540, 8, -2293763, 65540, 8, -3014667, 262148, 9, -2949131, 65540, 9, -3342349, 65540, 9, -3211266, 65540, 9, -3145730, 65540, 9, -3080194, 65540, 9, -3014658, 65540, 9, -2949122, 65540, 9, -2883586, 65540, 9, -2228226, 65540, 9, -2162690, 65540, 9, -2097154, 65540, 9, -2031618, 65540, 9, -1966082, 65540, 9, -1900546, 65540, 9, -3342344, 131076, 8, -2621439, 131076, 8, -2555903, 131076, 8, -2490367, 131076, 8, -2424831, 131076, 8, -2359295, 131076, 8, -2293759, 131076, 8, -2228223, 131076, 8, -2162687, 131076, 8, -2097151, 131076, 8, -2031615, 131076, 8, -1966079, 131076, 8, -3145743, 327684, 8, -3080207, 131076, 8, -3014671, 131076, 8, -2949135, 131076, 8, -3473423, 131076, 8, -3407887, 131076, 8, -3342351, 131076, 8, -3014666, 262148, 8, -2949130, 131076, 8, -3342345, 65540, 2, -3342346, 65540, 2, -3342347, 65540, 2, -3342348, 65540, 2, -3276812, 65540, 2, -3276811, 65540, 2, -3276810, 65540, 2, -3276809, 65540, 2, -2555909, 65540, 2, -2555908, 65540, 2, -2555907, 65540, 2, -2555906, 65540, 2, -2555905, 65540, 2, -2621440, 65540, 2, -2555904, 65540, 2, -2490369, 65540, 2, -2490370, 65540, 2, -2490371, 65540, 2, -2490372, 65540, 2, -2490373, 65540, 2, -2424837, 65540, 2, -2424836, 65540, 2, -2424835, 65540, 2, -2424834, 65540, 2, -2424833, 65540, 2, -2490368, 65540, 2, -2424832, 65540, 2, -2359297, 65540, 2, -2359298, 65540, 2, -2359299, 65540, 2, -2359300, 65540, 2, -2359301, 65540, 2, -2293761, 65540, 2, -2228225, 65540, 2, -2162689, 65540, 2, -2097153, 65540, 2, -2031617, 65540, 2, -1966081, 65540, 2, -1900545, 65540, 2, -1966080, 65540, 2, -2031616, 65540, 2, -2097152, 65540, 2, -2162688, 65540, 2, -2228224, 65540, 2, -2293760, 65540, 2, -2359296, 65540, 2, -1376254, 131076, 9, -1376253, 131076, 9, -1376252, 131076, 9, -1376251, 131076, 9, -262143, 131076, 6, -196610, 65540, 7, -3145734, 327684, 9, -3080198, 65540, 9, -3014662, 65540, 9, -2949126, 65540, 9, -2883590, 393220, 9, -2752518, 327684, 9, -2686982, 65540, 9, -2621446, 65540, 9, -2555910, 65540, 9, -2490374, 65540, 9, -2424838, 65540, 9, -2359302, 65540, 9, -2293766, 196612, 9, -3211268, 131076, 8, -3145732, 131076, 8, -3080196, 131076, 8, -3014660, 131076, 8, -2949124, 131076, 8, -2883588, 131076, 8, -2818052, 131076, 8, -2752516, 131076, 8, -2686980, 131076, 8, -3407878, 262148, 9, -3407877, 131076, 9, -3407876, 131076, 9, -3407875, 131076, 9, -3407874, 131076, 9, -3473408, 262148, 8, -3342336, 131076, 8, -3276800, 131076, 8, -3211264, 131076, 8, -3145728, 131076, 8, -3080192, 131076, 8, -3014656, 393220, 8, -2949120, 65540, 2, -2883584, 65540, 8, -3014655, 131076, 9, -2949119, 65540, 2, -2883583, 65540, 8, -3014654, 262148, 8, -2949118, 131076, 8, -2883582, 196612, 8, -3407873, 131076, 9, -3407872, 131076, 8, -3342342, 65540, 9, -2818049, 65540, 8, -196609, 65540, 1, -262144, 65540, 1, -196608, 65540, 1, -131073, 65540, 1, -262145, 65540, 2, -327680, 65540, 2, -1310717, 65540, 2, -1310718, 65540, 2, -1310719, 65540, 2, -1310716, 65540, 2, -1310715, 65540, 2, -1310714, 65540, 2, -2686981, 65540, 2, -2752517, 65540, 2, -2818053, 65540, 2, -2883589, 65540, 2, -2949125, 65540, 2, -3014661, 65540, 2, -3080197, 65540, 2, -3145733, 65540, 2, -3211269, 65540, 2, -3276805, 65540, 2, -3342341, 65540, 2, -3342340, 65540, 2, -3342339, 65540, 2, -3342338, 65540, 2, -3342337, 65540, 2, -3276801, 65540, 2, -3211265, 65540, 2, -3145729, 65540, 2, -3080193, 65540, 2, -3014657, 65540, 2, -2949121, 65540, 2, -2883585, 65540, 2, -2621445, 65540, 2, -3145742, 65540, 8, -3145741, 65540, 8, -3145740, 65540, 8, -3145739, 65540, 8, -3145738, 65540, 8, -3145737, 65540, 8, -3145736, 65540, 8, -3145735, 65540, 8, -3211276, 65540, 2, -3211277, 65540, 2, -3211278, 65540, 2, -3211279, 65540, 2, -3211275, 65540, 2, -3211274, 65540, 2, -3211273, 65540, 2, -3211272, 65540, 2, -3211271, 65540, 2, -3211270, 65540, 2, -2752527, 65540, 8, -2752526, 65540, 8, -2752525, 65540, 8, -2752524, 65540, 8, -2752523, 65540, 8, -2752522, 65540, 8, -2752521, 65540, 8, -2752520, 65540, 8, -2752519, 65540, 8, -2818061, 65540, 2, -2818062, 65540, 2, -2818063, 65540, 2, -2818060, 65540, 2, -2818059, 65540, 2, -2818058, 65540, 2, -2818057, 65540, 2, -2818056, 65540, 2, -2818055, 65540, 2, -2818054, 65540, 2, -3538961, 262148, 9, -3473425, 65540, 9, -3407889, 65540, 9, -3342353, 65540, 9, -3276817, 65540, 9, -3211281, 65540, 9, -3145745, 65540, 9, -3080209, 65540, 9, -3014673, 65540, 9, -2949137, 65540, 9, -2883601, 65540, 9, -2818065, 65540, 9, -2752529, 196612, 9, -3538960, 131076, 9, -2752528, 65540, 8, -3080208, 65540, 2, -3145744, 65540, 2, -3211280, 65540, 2, -3276816, 65540, 2, -3342352, 65540, 2, -3407888, 65540, 2, -3473424, 65540, 2, -3014672, 65540, 2, -2949136, 65540, 2, -2883600, 65540, 2, -2818064, 65540, 2)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 1)

[node name="Enemies" type="Node2D" parent="."]

[node name="Hive" parent="Enemies" instance=ExtResource("12_nt2eq")]
position = Vector2(70, -407)
scout_num = 3

[node name="Hive2" parent="Enemies" instance=ExtResource("12_nt2eq")]
position = Vector2(16, -642)
scout_num = 2

[node name="Hive3" parent="Enemies" instance=ExtResource("12_nt2eq")]
position = Vector2(-160, -735)

[node name="Objects" type="Node2D" parent="."]

[node name="Port3" parent="Objects" instance=ExtResource("2_grq21")]
position = Vector2(17, -714)
id = 3

[node name="PowerGate5" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-104, -808)
rotation = -1.5708
power_id = 3

[node name="PowerGate6" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-216, -808)
rotation = 1.5708
power_id = 3

[node name="PowerGate7" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-216, -792)
rotation = 1.5708
power_id = 3

[node name="PowerGate11" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-216, -776)
rotation = 1.5708
power_id = 3

[node name="PowerGate8" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-104, -792)
rotation = -1.5708
power_id = 3

[node name="PowerGate12" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-104, -776)
rotation = -1.5708
power_id = 3

[node name="PowerGate" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-24, -216)
power_id = 1

[node name="PowerGate2" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-8, -216)
power_id = 1

[node name="PowerGate3" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(8, -216)
power_id = 1

[node name="PowerGate4" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(24, -216)
power_id = 1

[node name="Battery" parent="Objects" instance=ExtResource("5_g76yd")]
position = Vector2(129, -111)

[node name="Port" parent="Objects" instance=ExtResource("2_grq21")]
position = Vector2(109, -183)
id = 1

[node name="Port2" parent="Objects" instance=ExtResource("2_grq21")]
position = Vector2(127, -403)
start_with_battery = true
id = 2

[node name="InvertedPowerGate" parent="Objects" instance=ExtResource("13_1tg8b")]
position = Vector2(-88, -664)
rotation = -3.14159
power_id = 3

[node name="InvertedPowerGate2" parent="Objects" instance=ExtResource("13_1tg8b")]
position = Vector2(-72, -664)
rotation = -3.14159
power_id = 3

[node name="InvertedPowerGate3" parent="Objects" instance=ExtResource("13_1tg8b")]
position = Vector2(-56, -664)
rotation = -3.14159
power_id = 3

[node name="PowerGate9" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-232, -824)
power_id = 3

[node name="PowerGate10" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-248, -824)
power_id = 3

[node name="PowerGate13" parent="Objects" instance=ExtResource("7_dvlgi")]
position = Vector2(-264, -824)
power_id = 3

[node name="Map" type="Node2D" parent="."]

[node name="Glass" parent="Map" instance=ExtResource("11_egktx")]
position = Vector2(80, -432)
size = Vector2i(16, 48)

[node name="Glass2" parent="Map" instance=ExtResource("11_egktx")]
position = Vector2(-32, -624)
size = Vector2i(64, 16)

[node name="CeilingLight" parent="Map" instance=ExtResource("4_ftjt1")]
position = Vector2(0, -426)
texture_scale = 1.55556
lights_lightables = false
radius = 70.0
power_id = 2

[node name="Glass3" parent="Map" instance=ExtResource("11_egktx")]
position = Vector2(-208, -848)
size = Vector2i(96, 16)

[node name="CeilingLight4" parent="Map" instance=ExtResource("4_ftjt1")]
position = Vector2(-161, -706)
enabled = false
texture_scale = 1.64016
lights_lightables = false
radius = 73.807
power_id = 3
start_powered = false

[node name="CeilingLight5" parent="Map" instance=ExtResource("4_ftjt1")]
position = Vector2(-12, -716)
enabled = false
texture_scale = 1.64016
lights_lightables = false
radius = 73.807
power_id = 3
start_powered = false

[node name="InvertedDecoLight" parent="Map" instance=ExtResource("15_3jseq")]
position = Vector2(-1, -234)

[node name="InvertedDecoLight2" parent="Map" instance=ExtResource("15_3jseq")]
position = Vector2(-50, -636)

[node name="InvertedDecoLight3" parent="Map" instance=ExtResource("15_3jseq")]
position = Vector2(-161, -706)
power_id = 3

[node name="InvertedDecoLight4" parent="Map" instance=ExtResource("15_3jseq")]
position = Vector2(-12, -716)
power_id = 3

[node name="InvertedDecoLight6" parent="Map" instance=ExtResource("15_3jseq")]
position = Vector2(1, -543)
power_id = 3

[node name="InvertedDecoLight5" parent="Map" instance=ExtResource("15_3jseq")]
position = Vector2(-248, -855)
color = Color(0.239216, 0.541176, 0.87451, 0.788235)
texture_scale = 1.0
radius = 45.0

[node name="Player" parent="." instance=ExtResource("3_2u5ik")]

[node name="LevelExit" parent="." instance=ExtResource("6_eic8u")]
position = Vector2(-248, -855)
next_level_name = "Tutorial"

[node name="Label2" type="Label" parent="."]
visible = false
light_mask = 2
z_index = 3
offset_left = 14.0
offset_top = -213.0
offset_right = 107.0
offset_bottom = -178.0
theme_override_font_sizes/font_size = 11
text = "Needs Power"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("8_rs7lm")

[node name="PointLight2D" type="PointLight2D" parent="Label2"]
position = Vector2(47, 17)
scale = Vector2(0.92, 0.27)
range_item_cull_mask = 2
texture = ExtResource("9_jfuls")

[node name="PowerTrigger" type="Area2D" parent="."]
position = Vector2(-17.5533, -202.697)
collision_layer = 0
collision_mask = 2
script = ExtResource("10_bwju5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="PowerTrigger"]
position = Vector2(17.5533, -4.80328)
shape = SubResource("RectangleShape2D_w4faw")

[node name="Ambient" type="AudioStreamPlayer" parent="."]
stream = ExtResource("15_ew3hk")
volume_db = -7.5
autoplay = true

[connection signal="body_entered" from="PowerTrigger" to="PowerTrigger" method="_on_body_entered"]
[connection signal="trigger" from="PowerTrigger" to="Label2" method="reveal"]
